	本章主要介绍作者使用attention model的思想对基线模型进行改进的一些工作。

	通过对句子的观察，作者发现两个目标实体在句子中的位置十分不固定，可能出现在句子或从句的句首，句中，句尾等各种位置；两目标实体之间的内容，既可能是重要的连接两个句子的子结构，也可能是和目标关系无关的修饰性从句。具体例子如下：

	总地来说，判断两目标实体关系的语义信息可能蕴含在语句的各个位置，而语句各个位置的信息亦可能是噪声信息。在这种情况下，作者根据attention model的想法，提出了一个自适应选取LSTM句子表示中有效信息的方法，来替代手工设计的pooling函数。以期更好地挖掘隐藏在句子各个位置信息的同时不要引入过多无关信息。

	attention model是一种从序列化的原始句子表示动态获得特征向量的自动化方法，其来源是人类视觉中的注意力机制。


	插入attention 综述内容

	插入attention 综述内容


	受到Deepmind文章中模型的启发，作者设计了一个通过单层RNN进行特征选取的attention机制，用来替代手工设计的pooling函数。

	在第二章介绍的基线模型中，原始输入语句经过LSTM层可以得到一个由LSTM每个step输出构成的长度和语句长度成正比的句子表示，这里作者暂时称其为序列句子表示。
	通过从前的研究可以知道，LSTM得到的序列句子表示中，某个step的输出更多地反映相应位置句子内容的局部信息。
	Pooling函数的作用在于通过恰当的方式综合句子各部分的局部表示，得到一个定长的向量句子表示，以作为分类器的分类特征。需要指出的是，不同pooling函数有着不同的性质和侧重点，能够反映出句子不同侧面的信息。在基线方法中，胡新辰通过手工设计的pooling方法，强调了目标实体间的句子内容而且回避了已经选出的目标实体对应的step，取得了（）的性能增长。
	作者设计了一个神经网络实现的决策链机制，来决定选择哪些step的向量特征组成最终的向量句子表示。具体的数据流见图。

	
	之前的研究已经指出，目标实体本身的信息对于判定两目标实体之间的关系有重要的作用。所以作者在这里认为目标实体所在位置的序列句子表示是最终句子表示的第一个组成部分。由于有两个目标实体，所以对应两个step的向量表示。
	如上文中描述的，该模型通过一个决策链分多步从序列句子表示中选取几个位置的向量作为句子的向量表示。在选取特征位置的过程中，作者希望后续步骤选取的特征向量可以避开之前步骤已经选取的信息的同时选取和当前任务相关的信息。故作者认为前几轮已经选取的特征向量使我们在下一步选取向量位置时需要考虑的特征。
	在该模型中，序列向量表示中每个step的信息和并前两步选取到的向量信息作为该step的attention 特征。每个step的attention 特征分别同一个输出维度为1的单层神经玩过获得attention 权重。模型选择所有step中attention权重最大的位置作为当前一步决策链选取的位置，并将该位置对应的向量表示作为最终向量表示的一部分。
	由于两个实体位置的向量表示必然是句子向量表示的一部分，故将其作为第-1和第0步决策链的输出用以解决决策链的冷启动问题。

	通过调节决策链的总步数，我们可以得到任意大于2长度的句子向量表示。

	该向量表示将替代基线模型中的pooling输出和其它特征通过单层神经网络融合作为最终分类器的输出特征。

	选取不同步长的实验结果如下。

	通过对比，可以看到在开发集上决策链步数为6的模型表现最佳。

	设定决策链步数为6，在测试集上进行实验，得到表现如下。

	和基线模型对比如下。

	可以看到，作者实现的attention模型最终表现其实和基线模型还存在一定的差距。

	分别考察基线模型和attention模型在的输出结果，作者发现两者在测试集上的错误分布存在着较大的不同。

	基线模型分类错误而attention模型分类正确的有 句，attention模型分类错误而基线模型正确的有 句。
	此外，两者的表现随句长的变化趋势也不相同。作者统计了大于某一长度的句子集合上，attention模型F1值和基线模型F1值的比值，情况如下图。

	可以看到，attention模型在句子长度超过13的句子集上开始具有优势，而基线模型在句子个数更多的短句集合上表现更优。
	根据基本的统计学和机器学习理论，取向不同的模型存在着较大的融合潜力。因此作者考虑着手实现基线模型和attention模型的融合以期达到更加的表现。

	结论：作者收attention model启发，实现了一个神经网络决策链替代了基线模型中手工设计的pooling函数，达到了略差于手工pooling函数的效果。错误分析说明新模型在长句上比基线模型更有优势。此外，新模型的取向和基线模型存在很大的差异，有较大的融合潜力。

	
